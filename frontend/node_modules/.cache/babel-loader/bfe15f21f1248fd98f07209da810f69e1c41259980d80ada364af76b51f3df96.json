{"ast":null,"code":"import React,{useState,useEffect,useCallback}from'react';import{Link}from'react-router-dom';import axios from'axios';import Loading from'./Loading';import Error from'./Error';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function MovieList(){const[searchTerm,setSearchTerm]=useState('');const[genreFilter,setGenreFilter]=useState('');const[yearFilter,setYearFilter]=useState('');const[ratingMinFilter,setRatingMinFilter]=useState('');const[ratingMaxFilter,setRatingMaxFilter]=useState('');const[castFilter,setCastFilter]=useState('');const[movies,setMovies]=useState([]);const[loading,setLoading]=useState(true);const[error,setError]=useState(null);const fetchMovies=useCallback(async()=>{try{setLoading(true);const params={};if(searchTerm)params.search=searchTerm;if(genreFilter)params.genre=genreFilter;if(yearFilter)params.year=yearFilter;if(ratingMinFilter)params.ratingMin=ratingMinFilter;if(ratingMaxFilter)params.ratingMax=ratingMaxFilter;if(castFilter)params.cast=castFilter;const res=await axios.get('/api/movies',{params});setMovies(res.data.movies);}catch(err){setError('Failed to load movies');}finally{setLoading(false);}},[searchTerm,genreFilter,yearFilter,ratingMinFilter,ratingMaxFilter,castFilter]);useEffect(()=>{fetchMovies();},[fetchMovies]);if(loading)return/*#__PURE__*/_jsx(Loading,{});if(error)return/*#__PURE__*/_jsx(Error,{message:error});return/*#__PURE__*/_jsxs(\"div\",{className:\"movie-list\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Movie Listing\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"filters\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Search by title...\",value:searchTerm,onChange:e=>setSearchTerm(e.target.value)}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Filter by cast...\",value:castFilter,onChange:e=>setCastFilter(e.target.value)}),/*#__PURE__*/_jsxs(\"select\",{value:genreFilter,onChange:e=>setGenreFilter(e.target.value),children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"All Genres\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Action\",children:\"Action\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Comedy\",children:\"Comedy\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Drama\",children:\"Drama\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Horror\",children:\"Horror\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Romance\",children:\"Romance\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Sci-Fi\",children:\"Sci-Fi\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Thriller\",children:\"Thriller\"})]}),/*#__PURE__*/_jsxs(\"select\",{value:yearFilter,onChange:e=>setYearFilter(e.target.value),children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"All Years\"}),Array.from({length:30},(_,i)=>new Date().getFullYear()-i).map(year=>/*#__PURE__*/_jsx(\"option\",{value:year,children:year},year))]}),/*#__PURE__*/_jsxs(\"select\",{value:ratingMinFilter,onChange:e=>setRatingMinFilter(e.target.value),children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Min Rating\"}),[1,2,3,4,5,6,7,8,9].map(r=>/*#__PURE__*/_jsx(\"option\",{value:r,children:r},r))]}),/*#__PURE__*/_jsxs(\"select\",{value:ratingMaxFilter,onChange:e=>setRatingMaxFilter(e.target.value),children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Max Rating\"}),[2,3,4,5,6,7,8,9,10].map(r=>/*#__PURE__*/_jsx(\"option\",{value:r,children:r},r))]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"movies-grid\",children:movies.length>0?movies.map(movie=>/*#__PURE__*/_jsxs(\"div\",{className:\"movie-card\",children:[/*#__PURE__*/_jsx(\"img\",{src:movie.poster_path,alt:movie.title}),/*#__PURE__*/_jsxs(\"div\",{className:\"movie-info\",children:[/*#__PURE__*/_jsx(\"h3\",{children:movie.title}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Rating: \",movie.vote_average,\"/10\"]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Year: \",new Date(movie.release_date).getFullYear()]}),/*#__PURE__*/_jsx(Link,{to:\"/movies/\".concat(movie._id),className:\"btn-small\",children:\"View Details\"})]})]},movie._id)):/*#__PURE__*/_jsx(\"p\",{children:\"No movies found matching your criteria.\"})})]});}export default MovieList;","map":{"version":3,"names":["React","useState","useEffect","useCallback","Link","axios","Loading","Error","jsx","_jsx","jsxs","_jsxs","MovieList","searchTerm","setSearchTerm","genreFilter","setGenreFilter","yearFilter","setYearFilter","ratingMinFilter","setRatingMinFilter","ratingMaxFilter","setRatingMaxFilter","castFilter","setCastFilter","movies","setMovies","loading","setLoading","error","setError","fetchMovies","params","search","genre","year","ratingMin","ratingMax","cast","res","get","data","err","message","className","children","type","placeholder","value","onChange","e","target","Array","from","length","_","i","Date","getFullYear","map","r","movie","src","poster_path","alt","title","vote_average","release_date","to","concat","_id"],"sources":["C:/Users/prera/Downloads/MOVIE REVIEW/frontend/src/components/MovieList.jsx"],"sourcesContent":["import React, { useState, useEffect, useCallback } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport axios from 'axios';\r\nimport Loading from './Loading';\r\nimport Error from './Error';\r\n\r\nfunction MovieList() {\r\n  const [searchTerm, setSearchTerm] = useState('');\r\n  const [genreFilter, setGenreFilter] = useState('');\r\n  const [yearFilter, setYearFilter] = useState('');\r\n  const [ratingMinFilter, setRatingMinFilter] = useState('');\r\n  const [ratingMaxFilter, setRatingMaxFilter] = useState('');\r\n  const [castFilter, setCastFilter] = useState('');\r\n  const [movies, setMovies] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState(null);\r\n\r\n  const fetchMovies = useCallback(async () => {\r\n    try {\r\n      setLoading(true);\r\n      const params = {};\r\n      if (searchTerm) params.search = searchTerm;\r\n      if (genreFilter) params.genre = genreFilter;\r\n      if (yearFilter) params.year = yearFilter;\r\n      if (ratingMinFilter) params.ratingMin = ratingMinFilter;\r\n      if (ratingMaxFilter) params.ratingMax = ratingMaxFilter;\r\n      if (castFilter) params.cast = castFilter;\r\n\r\n      const res = await axios.get('/api/movies', { params });\r\n      setMovies(res.data.movies);\r\n    } catch (err) {\r\n      setError('Failed to load movies');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  }, [searchTerm, genreFilter, yearFilter, ratingMinFilter, ratingMaxFilter, castFilter]);\r\n\r\n  useEffect(() => {\r\n    fetchMovies();\r\n  }, [fetchMovies]);\r\n\r\n  if (loading) return <Loading />;\r\n  if (error) return <Error message={error} />;\r\n\r\n  return (\r\n    <div className=\"movie-list\">\r\n      <h2>Movie Listing</h2>\r\n\r\n      <div className=\"filters\">\r\n        <input\r\n          type=\"text\"\r\n          placeholder=\"Search by title...\"\r\n          value={searchTerm}\r\n          onChange={e => setSearchTerm(e.target.value)}\r\n        />\r\n        <input\r\n          type=\"text\"\r\n          placeholder=\"Filter by cast...\"\r\n          value={castFilter}\r\n          onChange={e => setCastFilter(e.target.value)}\r\n        />\r\n        <select value={genreFilter} onChange={e => setGenreFilter(e.target.value)}>\r\n          <option value=\"\">All Genres</option>\r\n          <option value=\"Action\">Action</option>\r\n          <option value=\"Comedy\">Comedy</option>\r\n          <option value=\"Drama\">Drama</option>\r\n          <option value=\"Horror\">Horror</option>\r\n          <option value=\"Romance\">Romance</option>\r\n          <option value=\"Sci-Fi\">Sci-Fi</option>\r\n          <option value=\"Thriller\">Thriller</option>\r\n        </select>\r\n        <select value={yearFilter} onChange={e => setYearFilter(e.target.value)}>\r\n          <option value=\"\">All Years</option>\r\n          {Array.from({ length: 30 }, (_, i) => new Date().getFullYear() - i).map(year => (\r\n            <option key={year} value={year}>{year}</option>\r\n          ))}\r\n        </select>\r\n        <select value={ratingMinFilter} onChange={e => setRatingMinFilter(e.target.value)}>\r\n          <option value=\"\">Min Rating</option>\r\n          {[1,2,3,4,5,6,7,8,9].map(r => (\r\n            <option key={r} value={r}>{r}</option>\r\n          ))}\r\n        </select>\r\n        <select value={ratingMaxFilter} onChange={e => setRatingMaxFilter(e.target.value)}>\r\n          <option value=\"\">Max Rating</option>\r\n          {[2,3,4,5,6,7,8,9,10].map(r => (\r\n            <option key={r} value={r}>{r}</option>\r\n          ))}\r\n        </select>\r\n      </div>\r\n\r\n      <div className=\"movies-grid\">\r\n        {movies.length > 0 ? (\r\n          movies.map(movie => (\r\n            <div key={movie._id} className=\"movie-card\">\r\n              <img src={movie.poster_path} alt={movie.title} />\r\n              <div className=\"movie-info\">\r\n                <h3>{movie.title}</h3>\r\n                <p>Rating: {movie.vote_average}/10</p>\r\n                <p>Year: {new Date(movie.release_date).getFullYear()}</p>\r\n                <Link to={`/movies/${movie._id}`} className=\"btn-small\">View Details</Link>\r\n              </div>\r\n            </div>\r\n          ))\r\n        ) : (\r\n          <p>No movies found matching your criteria.</p>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default MovieList;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}