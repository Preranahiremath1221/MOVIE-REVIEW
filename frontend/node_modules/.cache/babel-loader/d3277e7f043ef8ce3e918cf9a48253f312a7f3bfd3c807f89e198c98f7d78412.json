{"ast":null,"code":"import React,{useState,useContext}from'react';import{AuthContext}from'../context/AuthContext';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function ReviewForm(_ref){let{movieId,onReviewAdded}=_ref;const{user}=useContext(AuthContext);const[rating,setRating]=useState(5);const[comment,setComment]=useState('');const[loading,setLoading]=useState(false);const[error,setError]=useState('');const handleSubmit=async e=>{e.preventDefault();if(!user){setError('Please login to submit a review');return;}if(!comment.trim()){setError('Please enter a comment');return;}setLoading(true);setError('');try{// Simulate API call\nconst newReview={id:Date.now(),user:user.name,rating,comment,createdAt:new Date().toISOString()};onReviewAdded(newReview);setRating(5);setComment('');}catch(err){setError('Failed to submit review');}finally{setLoading(false);}};if(!user){return/*#__PURE__*/_jsx(\"div\",{className:\"review-form\",children:/*#__PURE__*/_jsxs(\"p\",{children:[\"Please \",/*#__PURE__*/_jsx(\"a\",{href:\"/login\",children:\"login\"}),\" to submit a review.\"]})});}return/*#__PURE__*/_jsxs(\"form\",{className:\"review-form\",onSubmit:handleSubmit,children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Write a Review\"}),error&&/*#__PURE__*/_jsx(\"p\",{className:\"error\",children:error}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Rating:\"}),/*#__PURE__*/_jsx(\"select\",{value:rating,onChange:e=>setRating(parseInt(e.target.value)),children:[1,2,3,4,5].map(num=>/*#__PURE__*/_jsxs(\"option\",{value:num,children:[num,\" Star\",num>1?'s':'']},num))})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Comment:\"}),/*#__PURE__*/_jsx(\"textarea\",{value:comment,onChange:e=>setComment(e.target.value),placeholder:\"Share your thoughts about this movie...\",rows:\"4\",required:true})]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",disabled:loading,className:\"btn-primary\",children:loading?'Submitting...':'Submit Review'})]});}export default ReviewForm;","map":{"version":3,"names":["React","useState","useContext","AuthContext","jsx","_jsx","jsxs","_jsxs","ReviewForm","_ref","movieId","onReviewAdded","user","rating","setRating","comment","setComment","loading","setLoading","error","setError","handleSubmit","e","preventDefault","trim","newReview","id","Date","now","name","createdAt","toISOString","err","className","children","href","onSubmit","value","onChange","parseInt","target","map","num","placeholder","rows","required","type","disabled"],"sources":["C:/Users/prera/Downloads/MOVIE REVIEW/frontend/src/components/ReviewForm.jsx"],"sourcesContent":["import React, { useState, useContext } from 'react';\r\nimport { AuthContext } from '../context/AuthContext';\r\n\r\nfunction ReviewForm({ movieId, onReviewAdded }) {\r\n  const { user } = useContext(AuthContext);\r\n  const [rating, setRating] = useState(5);\r\n  const [comment, setComment] = useState('');\r\n  const [loading, setLoading] = useState(false);\r\n  const [error, setError] = useState('');\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    if (!user) {\r\n      setError('Please login to submit a review');\r\n      return;\r\n    }\r\n    if (!comment.trim()) {\r\n      setError('Please enter a comment');\r\n      return;\r\n    }\r\n\r\n    setLoading(true);\r\n    setError('');\r\n\r\n    try {\r\n      // Simulate API call\r\n      const newReview = {\r\n        id: Date.now(),\r\n        user: user.name,\r\n        rating,\r\n        comment,\r\n        createdAt: new Date().toISOString(),\r\n      };\r\n\r\n      onReviewAdded(newReview);\r\n      setRating(5);\r\n      setComment('');\r\n    } catch (err) {\r\n      setError('Failed to submit review');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  if (!user) {\r\n    return (\r\n      <div className=\"review-form\">\r\n        <p>Please <a href=\"/login\">login</a> to submit a review.</p>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <form className=\"review-form\" onSubmit={handleSubmit}>\r\n      <h3>Write a Review</h3>\r\n      {error && <p className=\"error\">{error}</p>}\r\n      <div className=\"form-group\">\r\n        <label>Rating:</label>\r\n        <select value={rating} onChange={(e) => setRating(parseInt(e.target.value))}>\r\n          {[1, 2, 3, 4, 5].map(num => (\r\n            <option key={num} value={num}>{num} Star{num > 1 ? 's' : ''}</option>\r\n          ))}\r\n        </select>\r\n      </div>\r\n      <div className=\"form-group\">\r\n        <label>Comment:</label>\r\n        <textarea\r\n          value={comment}\r\n          onChange={(e) => setComment(e.target.value)}\r\n          placeholder=\"Share your thoughts about this movie...\"\r\n          rows=\"4\"\r\n          required\r\n        />\r\n      </div>\r\n      <button type=\"submit\" disabled={loading} className=\"btn-primary\">\r\n        {loading ? 'Submitting...' : 'Submit Review'}\r\n      </button>\r\n    </form>\r\n  );\r\n}\r\n\r\nexport default ReviewForm;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}