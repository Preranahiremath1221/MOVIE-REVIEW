{"ast":null,"code":"import React,{useState,useEffect}from'react';import{useParams}from'react-router-dom';import{dummyShowsData,dummyTrailers}from'../assets';import ReviewForm from'./ReviewForm';import Loading from'./Loading';import Error from'./Error';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";function MovieDetails(){const{id}=useParams();const[movie,setMovie]=useState(null);const[reviews,setReviews]=useState([]);const[loading,setLoading]=useState(true);const[error,setError]=useState(null);useEffect(()=>{// Simulate API call\nconst fetchMovie=async()=>{try{const movieData=dummyShowsData.find(m=>m.id.toString()===id);if(!movieData){throw new Error('Movie not found');}setMovie(movieData);// Simulate reviews\nsetReviews([{id:1,user:'John Doe',rating:4,comment:'Great movie!',createdAt:'2023-01-01'},{id:2,user:'Jane Smith',rating:5,comment:'Amazing!',createdAt:'2023-01-02'}]);}catch(err){setError(err.message);}finally{setLoading(false);}};fetchMovie();},[id]);if(loading)return/*#__PURE__*/_jsx(Loading,{});if(error)return/*#__PURE__*/_jsx(Error,{message:error});return/*#__PURE__*/_jsx(\"div\",{className:\"movie-details\",children:movie&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"movie-header\",children:[/*#__PURE__*/_jsx(\"img\",{src:movie.poster_path,alt:movie.title,className:\"movie-poster\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"movie-info\",children:[/*#__PURE__*/_jsx(\"h1\",{children:movie.title}),/*#__PURE__*/_jsx(\"p\",{className:\"tagline\",children:movie.tagline}),/*#__PURE__*/_jsxs(\"div\",{className:\"movie-meta\",children:[/*#__PURE__*/_jsxs(\"span\",{children:[\"Release Date: \",new Date(movie.release_date).toLocaleDateString()]}),/*#__PURE__*/_jsxs(\"span\",{children:[\"Runtime: \",movie.runtime,\" min\"]}),/*#__PURE__*/_jsxs(\"span\",{children:[\"Rating: \",movie.vote_average,\"/10 (\",movie.vote_count,\" votes)\"]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"genres\",children:movie.genres.map(genre=>/*#__PURE__*/_jsx(\"span\",{className:\"genre-tag\",children:genre.name},genre.id))}),/*#__PURE__*/_jsx(\"p\",{className:\"overview\",children:movie.overview})]})]}),/*#__PURE__*/_jsxs(\"section\",{className:\"cast-section\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Cast\"}),/*#__PURE__*/_jsx(\"div\",{className:\"cast-grid\",children:movie.casts.slice(0,10).map(cast=>/*#__PURE__*/_jsxs(\"div\",{className:\"cast-card\",children:[/*#__PURE__*/_jsx(\"img\",{src:cast.profile_path,alt:cast.name}),/*#__PURE__*/_jsx(\"p\",{children:cast.name})]},cast.name))})]}),/*#__PURE__*/_jsxs(\"section\",{className:\"trailers-section\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Trailers\"}),/*#__PURE__*/_jsx(\"div\",{className:\"trailers-grid\",children:dummyTrailers.map((trailer,index)=>/*#__PURE__*/_jsxs(\"div\",{className:\"trailer-card\",children:[/*#__PURE__*/_jsx(\"img\",{src:trailer.image,alt:\"Trailer\"}),/*#__PURE__*/_jsx(\"a\",{href:trailer.videoUrl,target:\"_blank\",rel:\"noopener noreferrer\",className:\"btn-primary\",children:\"Watch Trailer\"})]},index))})]}),/*#__PURE__*/_jsxs(\"section\",{className:\"reviews-section\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Reviews\"}),/*#__PURE__*/_jsx(ReviewForm,{movieId:movie.id,onReviewAdded:newReview=>setReviews([newReview,...reviews])}),/*#__PURE__*/_jsx(\"div\",{className:\"reviews-list\",children:reviews.map(review=>/*#__PURE__*/_jsxs(\"div\",{className:\"review-card\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"review-header\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"review-user\",children:review.user}),/*#__PURE__*/_jsxs(\"span\",{className:\"review-rating\",children:['★'.repeat(review.rating),'☆'.repeat(5-review.rating)]}),/*#__PURE__*/_jsx(\"span\",{className:\"review-date\",children:new Date(review.createdAt).toLocaleDateString()})]}),/*#__PURE__*/_jsx(\"p\",{className:\"review-comment\",children:review.comment})]},review.id))})]})]})});}export default MovieDetails;","map":{"version":3,"names":["React","useState","useEffect","useParams","dummyShowsData","dummyTrailers","ReviewForm","Loading","Error","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","MovieDetails","id","movie","setMovie","reviews","setReviews","loading","setLoading","error","setError","fetchMovie","movieData","find","m","toString","user","rating","comment","createdAt","err","message","className","children","src","poster_path","alt","title","tagline","Date","release_date","toLocaleDateString","runtime","vote_average","vote_count","genres","map","genre","name","overview","casts","slice","cast","profile_path","trailer","index","image","href","videoUrl","target","rel","movieId","onReviewAdded","newReview","review","repeat"],"sources":["C:/Users/prera/Downloads/MOVIE REVIEW/frontend/src/components/MovieDetails.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { useParams } from 'react-router-dom';\r\nimport { dummyShowsData, dummyTrailers } from '../assets';\r\nimport ReviewForm from './ReviewForm';\r\nimport Loading from './Loading';\r\nimport Error from './Error';\r\n\r\nfunction MovieDetails() {\r\n  const { id } = useParams();\r\n  const [movie, setMovie] = useState(null);\r\n  const [reviews, setReviews] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState(null);\r\n\r\n  useEffect(() => {\r\n    // Simulate API call\r\n    const fetchMovie = async () => {\r\n      try {\r\n        const movieData = dummyShowsData.find(m => m.id.toString() === id);\r\n        if (!movieData) {\r\n          throw new Error('Movie not found');\r\n        }\r\n        setMovie(movieData);\r\n        // Simulate reviews\r\n        setReviews([\r\n          { id: 1, user: 'John Doe', rating: 4, comment: 'Great movie!', createdAt: '2023-01-01' },\r\n          { id: 2, user: 'Jane Smith', rating: 5, comment: 'Amazing!', createdAt: '2023-01-02' },\r\n        ]);\r\n      } catch (err) {\r\n        setError(err.message);\r\n      } finally {\r\n        setLoading(false);\r\n      }\r\n    };\r\n\r\n    fetchMovie();\r\n  }, [id]);\r\n\r\n  if (loading) return <Loading />;\r\n  if (error) return <Error message={error} />;\r\n\r\n  return (\r\n    <div className=\"movie-details\">\r\n      {movie && (\r\n        <>\r\n          {/* Movie Header */}\r\n          <div className=\"movie-header\">\r\n            <img src={movie.poster_path} alt={movie.title} className=\"movie-poster\" />\r\n            <div className=\"movie-info\">\r\n              <h1>{movie.title}</h1>\r\n              <p className=\"tagline\">{movie.tagline}</p>\r\n              <div className=\"movie-meta\">\r\n                <span>Release Date: {new Date(movie.release_date).toLocaleDateString()}</span>\r\n                <span>Runtime: {movie.runtime} min</span>\r\n                <span>Rating: {movie.vote_average}/10 ({movie.vote_count} votes)</span>\r\n              </div>\r\n              <div className=\"genres\">\r\n                {movie.genres.map(genre => (\r\n                  <span key={genre.id} className=\"genre-tag\">{genre.name}</span>\r\n                ))}\r\n              </div>\r\n              <p className=\"overview\">{movie.overview}</p>\r\n            </div>\r\n          </div>\r\n\r\n          {/* Cast Section */}\r\n          <section className=\"cast-section\">\r\n            <h2>Cast</h2>\r\n            <div className=\"cast-grid\">\r\n              {movie.casts.slice(0, 10).map(cast => (\r\n                <div key={cast.name} className=\"cast-card\">\r\n                  <img src={cast.profile_path} alt={cast.name} />\r\n                  <p>{cast.name}</p>\r\n                </div>\r\n              ))}\r\n            </div>\r\n          </section>\r\n\r\n          {/* Trailers Section */}\r\n          <section className=\"trailers-section\">\r\n            <h2>Trailers</h2>\r\n            <div className=\"trailers-grid\">\r\n              {dummyTrailers.map((trailer, index) => (\r\n                <div key={index} className=\"trailer-card\">\r\n                  <img src={trailer.image} alt=\"Trailer\" />\r\n                  <a href={trailer.videoUrl} target=\"_blank\" rel=\"noopener noreferrer\" className=\"btn-primary\">\r\n                    Watch Trailer\r\n                  </a>\r\n                </div>\r\n              ))}\r\n            </div>\r\n          </section>\r\n\r\n          {/* Reviews Section */}\r\n          <section className=\"reviews-section\">\r\n            <h2>Reviews</h2>\r\n            <ReviewForm movieId={movie.id} onReviewAdded={(newReview) => setReviews([newReview, ...reviews])} />\r\n            <div className=\"reviews-list\">\r\n              {reviews.map(review => (\r\n                <div key={review.id} className=\"review-card\">\r\n                  <div className=\"review-header\">\r\n                    <span className=\"review-user\">{review.user}</span>\r\n                    <span className=\"review-rating\">{'★'.repeat(review.rating)}{'☆'.repeat(5 - review.rating)}</span>\r\n                    <span className=\"review-date\">{new Date(review.createdAt).toLocaleDateString()}</span>\r\n                  </div>\r\n                  <p className=\"review-comment\">{review.comment}</p>\r\n                </div>\r\n              ))}\r\n            </div>\r\n          </section>\r\n        </>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default MovieDetails;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}